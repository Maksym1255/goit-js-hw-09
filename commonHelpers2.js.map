{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\nconst KEY = `feedback-form-state`;\nconst form = document.querySelector(`.feedback-form`);\nlet formData = {\n    email: \"\",\n    message: \"\"\n}\n\nform.addEventListener(`input`, (e) => {\n    const { name, value } = e.target;\n      formData[name] = value.trim();\n    \n\n    saveToLS(KEY, formData);\n})\n\nform.addEventListener(`submit`, e => {\n    e.preventDefault();\n\n    const { email, message } = form.elements;\n\n  if (email.value === '' || message.value === '') {\n        return alert(`Fill please all fields`);\n    }\n// console.log(formData);\n    console.log(`Email: ${email.value}\\nMessage: ${message.value}`);\n    \n    form.reset();\n    localStorage.removeItem(KEY);\n    formData = {}\n})\n\nwindow.addEventListener('DOMContentLoaded', () => {\n    const data = loadFromLS(KEY);\n\n    form.elements.email.value = data?.email || ``;\n    form.elements.message.value = data?.message || ``;\n})\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const json = localStorage.getItem(key);\n  try {\n    const data = JSON.parse(json);\n    return data;\n  } catch {\n    return json;\n  }\n}"],"names":["KEY","form","formData","name","value","saveToLS","email","message","data","loadFromLS","key","jsonData","json"],"mappings":"wFACA,MAAMA,EAAM,sBACNC,EAAO,SAAS,cAAc,gBAAgB,EACpD,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAEAD,EAAK,iBAAiB,QAAU,GAAM,CAClC,KAAM,CAAE,KAAAE,EAAM,MAAAC,GAAU,EAAE,OACxBF,EAASC,CAAI,EAAIC,EAAM,KAAI,EAG7BC,EAASL,EAAKE,CAAQ,CAC1B,CAAC,EAEDD,EAAK,iBAAiB,SAAU,GAAK,CACjC,EAAE,eAAc,EAEhB,KAAM,CAAE,MAAAK,EAAO,QAAAC,GAAYN,EAAK,SAElC,GAAIK,EAAM,QAAU,IAAMC,EAAQ,QAAU,GACtC,OAAO,MAAM,wBAAwB,EAGzC,QAAQ,IAAI,UAAUD,EAAM,KAAK;AAAA,WAAcC,EAAQ,KAAK,EAAE,EAE9DN,EAAK,MAAK,EACV,aAAa,WAAWD,CAAG,EAC3BE,EAAW,CAAE,CACjB,CAAC,EAED,OAAO,iBAAiB,mBAAoB,IAAM,CAC9C,MAAMM,EAAOC,EAAWT,CAAG,EAE3BC,EAAK,SAAS,MAAM,OAAQO,GAAA,YAAAA,EAAM,QAAS,GAC3CP,EAAK,SAAS,QAAQ,OAAQO,GAAA,YAAAA,EAAM,UAAW,EACnD,CAAC,EAED,SAASH,EAASK,EAAKN,EAAO,CAC5B,MAAMO,EAAW,KAAK,UAAUP,CAAK,EACrC,aAAa,QAAQM,EAAKC,CAAQ,CACpC,CAEA,SAASF,EAAWC,EAAK,CACvB,MAAME,EAAO,aAAa,QAAQF,CAAG,EACrC,GAAI,CAEF,OADa,KAAK,MAAME,CAAI,CAEhC,MAAU,CACN,OAAOA,CACR,CACH"}